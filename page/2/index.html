<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"haokaiyang.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":false,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Enjoy coding,Enjoy life:)">
<meta property="og:type" content="website">
<meta property="og:title" content="郝凯阳">
<meta property="og:url" content="http://haokaiyang.com/page/2/index.html">
<meta property="og:site_name" content="郝凯阳">
<meta property="og:description" content="Enjoy coding,Enjoy life:)">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郝凯阳">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://haokaiyang.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>郝凯阳</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">郝凯阳</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2017/03/01/centos7-learning-notes-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/01/centos7-learning-notes-2/" class="post-title-link" itemprop="url">《鸟哥的Linux私房菜》文件与目录管理学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-01 20:30:00" itemprop="dateCreated datePublished" datetime="2017-03-01T20:30:00+08:00">2017-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="目录相关操作"><a href="#目录相关操作" class="headerlink" title="目录相关操作"></a>目录相关操作</h2><h3 id="特殊目录"><a href="#特殊目录" class="headerlink" title="特殊目录"></a>特殊目录</h3><ul>
<li>.         当前目录</li>
<li>..        上层目录</li>
<li>-        上次所在目录</li>
<li>~         当前账号所在家目录</li>
<li>~account  account用户的家目录</li>
</ul>
<h3 id="常见目录处理命令"><a href="#常见目录处理命令" class="headerlink" title="常见目录处理命令"></a>常见目录处理命令</h3><h4 id="cd-更改目录"><a href="#cd-更改目录" class="headerlink" title="cd:更改目录"></a>cd:更改目录</h4><p>change directory</p>
<pre><code>命令:cd 目录</code></pre>
<h4 id="pwd-显示当前所在目录"><a href="#pwd-显示当前所在目录" class="headerlink" title="pwd:显示当前所在目录"></a>pwd:显示当前所在目录</h4><p>Print Working Directory</p>
<pre><code>命令:pwd [-P]
选项及参数:
    -L 默认参数 当目录为软链接路径时,显示软链接路径
    -P 当目录为软链接路径时,显示真实路径</code></pre>
<p>例子:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[haokaiyang@CentOS7 bin]$ ls -l /bin</span><br><span class="line">lrwxrwxrwx. 1 root root 7 2月 27 21:01 /bin -&gt; usr/bin</span><br><span class="line">[haokaiyang@CentOS7 bin]$ <span class="built_in">pwd</span> -L</span><br><span class="line">/bin</span><br><span class="line">[haokaiyang@CentOS7 bin]$ <span class="built_in">pwd</span> -P</span><br><span class="line">/usr/bin</span><br></pre></td></tr></table></figure>
<h4 id="mkdir-创建新目录"><a href="#mkdir-创建新目录" class="headerlink" title="mkdir:创建新目录"></a>mkdir:创建新目录</h4><p>make directory</p>
<pre><code>命令:mkdir [-mp] 目录
选项及参数:
    -p 递归创建
    -m 直接设置目录权限</code></pre>
<p>例子:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[haokaiyang@CentOS7 <span class="built_in">test</span>]$ mkdir -p -m 711 test1/test2/test3/test4</span><br><span class="line">[haokaiyang@CentOS7 <span class="built_in">test</span>]$ ls -l test1/</span><br><span class="line">总用量 0</span><br><span class="line">drwxrwxr-x. 3 haokaiyang haokaiyang 19 2月 28 21:08 test2</span><br><span class="line">[haokaiyang@CentOS7 <span class="built_in">test</span>]$ ls -l test1/test2/</span><br><span class="line">总用量 0</span><br><span class="line">drwxrwxr-x. 3 haokaiyang haokaiyang 19 2月 28 21:08 test3</span><br><span class="line">[haokaiyang@CentOS7 <span class="built_in">test</span>]$ ls -l test1/test2/test3/</span><br><span class="line">总用量 0</span><br><span class="line">drwx--x--x. 2 haokaiyang haokaiyang 6 2月 28 21:08 test4</span><br></pre></td></tr></table></figure>
<p>目录的权限默认值与<a href="#umask">umask</a>有关</p>
<h4 id="rmdir-删除空目录"><a href="#rmdir-删除空目录" class="headerlink" title="rmdir:删除空目录"></a>rmdir:删除空目录</h4><pre><code>命令:rmdir [-p] 目录
选项及参数:
    -p 递归删除(目录中不能有其它文件)</code></pre>
<h4 id="关于执行文件路径变量"><a href="#关于执行文件路径变量" class="headerlink" title="关于执行文件路径变量"></a>关于执行文件路径变量</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[haokaiyang@CentOS7 <span class="built_in">test</span>]$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/<span class="built_in">local</span>/bin:/usr/<span class="built_in">local</span>/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/home/haokaiyang/.<span class="built_in">local</span>/bin:/home/haokaiyang/bin</span><br><span class="line"><span class="comment">#添加路径/root到变量</span></span><br><span class="line">[haokaiyang@CentOS7 <span class="built_in">test</span>]$ PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/root&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="文件与目录管理"><a href="#文件与目录管理" class="headerlink" title="文件与目录管理"></a>文件与目录管理</h2><h3 id="ls-显示目标列表"><a href="#ls-显示目标列表" class="headerlink" title="ls:显示目标列表"></a>ls:显示目标列表</h3><pre><code>命令:ls [-aAdfFhilnrRSt] 文件名或目录名...
选项及参数:
    -a 列出全部文件,连同隐藏文件
    -A 列出全部文件,连同隐藏文件,但不包括.和..两个目录
    -c 输出文件的 i 节点的修正时刻,并以此排序
    -d 仅列出目录本身,而不列出文件
    -f 直接列出結果,而不進行排序 (ls 預設會以檔名排序！)
    -F 根据目录,文件等信息,显示出来。例如:
        *:代表可执行文件
        /:代表目录
        =:代表 socket 目录
        |:代表 FIFO 文件；
    -h 将文件容量以人类较易懂的方式列出来(例如GB,KB)
    -i 列出 inode
    -k 以 k 字节的方式表明文件的巨细
    -l 以长格式的形式查看当前目录下所有可见文件的详细属性
    -m 横向输出文件名,并以“,”作分格符
    -n 用数字的 UID,GID 替代称号
    -r 反转排序顺序,适当的按字母逆向排序或者首先排序最旧的文件
    -R 递归列出所有子目录
    -S 以文件容量大小排序
    -t 按照最近一次修改时间(最近的最先)而不是名称排序
    --color=never:不根据文件类型显示颜色；
    --color=always:显示颜色
    --color=auto:让系统判断是否显示颜色
    --full-time:以完整时间格式输出
    --time=&#123;mtime,atime,ctime&#125;
        - mtime (modification time):在写入文件时随文件内容的更改而更改的时间
        - ctime (status time):是在写入文件、更改所有者、权限或链接设置时随Inode的内容更改而更改的时间
        - atime (access time):读取文件或者执行文件时更改的时间</code></pre>
<h3 id="cp-复制文件或目录"><a href="#cp-复制文件或目录" class="headerlink" title="cp:复制文件或目录"></a>cp:复制文件或目录</h3><pre><code>命令: cp [-adfilprsu] source destination
     cp [options] source1 source2 source3 .... directory
选项及参数:
    -a 或 --archive 此参数的效果和同时指定&#39;-dpr&#39;参数相同
    -b 或--backup 　删除,覆盖目标文件之前的备份,备份文件会在字尾加上一个备份字符串。
    -d 或--no-dereference 　当复制符号连接时,把目标文件或目录也建立为符号连接,并指向与源文件或目录连接的原始文件或目录。
    -f 或 --force 强行复制文件或目录,不论目的文件或目录是否已经存在
    -i 或 --interactive 覆盖文件之前先询问用户
    -l 或 --link 对源文件建立硬链接,而非复制文件
    -p 或 --preserve 保留源文件或目录的属性,包括所有者、所属组、权限与时间
    -P 或 --parents 保留源文件或目录的路径,此路径可以是绝对路径或相对路径,且目的目录必须已经存在
    -r 递归处理,将指定目录下的文件与子目录一并处理。若源文件或目录的形态,不属于目录或符号链接,则一律视为普通文件处理
    -R 或 --recursive 递归处理,将指定目录下的文件及子目录一并处理
    -s 或 --symbolic-link 对源文件建立符号链接,而非复制文件
    -S &lt;备份字尾字符串&gt; 或 --suffix=&lt;备份字尾字符串&gt; 用&quot;-b&quot;参数备份目的文件后,备份文件的字尾会被加上一个备份字符串。默认的备份字尾符串是符号&quot;~&quot;
    -u 或 --update 使用这项参数之后,只会在源文件的修改时间(Modification Time)较目的文件更新时,或是名称相互对应的目的文件并不存在,才复制文件
    -v 或 --verbose 显示执行过程
    -V &lt;备份方式&gt; 或 --version-control=&lt;备份方式&gt; 指定当备份文件时,备份文件名的命名方式,有以下3种:
        1.numbered或t, 将使用备份编号,会在字尾加上~1~字符串,其数字编号依次递增
        2.simple或never 将使用简单备份,默认的备份字尾字符串是~, 也可通过-S来指定
        3.existing或nil将使用当前方式,程序会先检查是否存在着备份编号,若有则采用备份编号,若无则采用简单备份
    -x 或 --one-file-system 复制的文件或目录存放的文件系统,必须与cp指令执行时所处的文件系统相同,否则不复制,亦不处理位于其他分区的文件</code></pre>
<h3 id="rm-删除文件或目录"><a href="#rm-删除文件或目录" class="headerlink" title="rm:删除文件或目录"></a>rm:删除文件或目录</h3><pre><code>命令: rm [-fir] 文件或目录
选项及参数:
    -f 就是force的意思,忽略不存在的文件,不会出现警告
    -i 进行确认提示
    -r 或者-R 递归移除目录</code></pre>
<h3 id="mv-移动文件或目录、重命名"><a href="#mv-移动文件或目录、重命名" class="headerlink" title="mv:移动文件或目录、重命名"></a>mv:移动文件或目录、重命名</h3><pre><code>命令: mv [-fiu] source destination
     mv [options] source1 source2 source3 .... directory
选项及参数:
    -f force 不论目标文件是否存在,直接覆盖
    -i 进行确认提示
    -u 若目标文件存在且源文件比较新,才会更新
    -v 显示详情</code></pre>
<h3 id="获取路径文件名与目录名称"><a href="#获取路径文件名与目录名称" class="headerlink" title="获取路径文件名与目录名称"></a>获取路径文件名与目录名称</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取目录名称</span></span><br><span class="line">[haokaiyang@CentOS7 ~]$ dirname /home/haokaiyang/test4/aa.txt </span><br><span class="line">/home/haokaiyang/test4</span><br><span class="line"><span class="comment">#获取文件名称</span></span><br><span class="line">[haokaiyang@CentOS7 ~]$ basename /home/haokaiyang/test4/aa.txt </span><br><span class="line">aa.txt</span><br></pre></td></tr></table></figure>

<h2 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h2><h3 id="直接查看"><a href="#直接查看" class="headerlink" title="直接查看"></a>直接查看</h3><h4 id="cat-concatenate"><a href="#cat-concatenate" class="headerlink" title="cat(concatenate)"></a>cat(concatenate)</h4><pre><code>命令: cat
选项及参数:
    -A --show-all等价于 -vET 。
    -b --number-nonblank 给非空输出行编号。
    -e 等价于 -vE 。
    -E --show-ends 在每行结束显示 $ 。
    -n --number 给所有输出行编号。
    -s --squeeze-blank 将所有的连续的多个空行替换为一个空行。
    -t 等价于 -vT 。
    -T --show-tabs 把 TAB 字符显示为 ^I 。
    -v --show-nonprinting 除了 LFD 和 TAB 之外所有控制符用 ^ 和 M- 记方式显示。</code></pre>
<h4 id="tac反转显示文件"><a href="#tac反转显示文件" class="headerlink" title="tac反转显示文件"></a>tac反转显示文件</h4><pre><code>命令: tac</code></pre>
<h4 id="nl添加行号打印"><a href="#nl添加行号打印" class="headerlink" title="nl添加行号打印"></a>nl添加行号打印</h4><pre><code>命令:nl 文件
选项及参数:
    -b 指定行号指定方式
        -b a 不论是否空行,同样显示行号
        -b b 空行不显示行号(默认)
    -n 列出行号表示方式
        -n ln 在屏幕左方显示
        -n rn 在自己栏位最右方显示,且不加0
        -n rz 在自己栏位最右方显示,且加0
    -w num 行号栏位占用的字符数</code></pre>
<h3 id="翻页查看"><a href="#翻页查看" class="headerlink" title="翻页查看"></a>翻页查看</h3><h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><pre><code>命令:more
选项及参数:
    -num 指定屏幕行数
    -f 使用more计算行数,而不是屏幕行(soft warp)
    -u 防止下划线
    +num 从行号num开始显示
常用操作:
    - 空格 :向下翻页
    - 回车 :向下翻一行
    - /string :向下搜索string
    - :f :显示文件名以及目前行数
    - q : 离开more
    - b :往回翻页</code></pre>
<h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><pre><code>命令:less
常用操作:
    - 空格 :向下翻页
    - pagedown :向下翻页
    - pageup   :向上翻页
    - /string :向下搜索string
    - ?sting :向上搜索string
    - n:重复前一个搜索
    - N:反向重复前一个搜索
    - g:到文件第一行
    - G:到文件最后一行
    - q : 离开less</code></pre>
<h3 id="资料截取"><a href="#资料截取" class="headerlink" title="资料截取"></a>资料截取</h3><h4 id="head-取出前面几行"><a href="#head-取出前面几行" class="headerlink" title="head(取出前面几行)"></a>head(取出前面几行)</h4><pre><code>命令: head 
选项及参数: 
    -n num 显示前num行
    -c num 显示前num个字符</code></pre>
<h4 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h4><pre><code>命令:tail
选项及参数:
    -n num 显示后num行
    -f 当文件增长时,输出后续添加的数据
    -s num 与-f合用,表示在每次反复的时间间隔s秒</code></pre>
<h3 id="od"><a href="#od" class="headerlink" title="od"></a>od</h3><pre><code>命令:od
选项及参数:
    -t 后面接各种类型
        - a 默认字符输出
        - c ASCII字符输出
        - d[size] 使用十进制输出,每个整数占用 size bytes
        - f[size] 使用浮点数输出,每个数占用 size bytes
        - o[size] 使用八进制输出,每个整数占用 size bytes
        - x[size] 使用十六进制输出,每个整数占用 size bytes
    -w[num] 设置每行最大字符数
    -j[num] 略过设置字符数</code></pre>
<p>鸟哥的书中提到了一个输出password的ASCII对照,使用的是</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[haokaiyang@CentOS7 ~]$ <span class="built_in">echo</span> password|od -t oCc</span><br><span class="line">0000000 160 141 163 163 167 157 162 144 012</span><br><span class="line">          p   a   s   s   w   o   r   d  \n</span><br><span class="line">0000011</span><br></pre></td></tr></table></figure>
<p>很多人不懂什么意思,这里解释一下<br>对于od -t [dfox] 指令输出,对于源的读取默认是Int,也就是4个字节分割。<br>C表示char size,I表示int size,因此这个命令等价于以下两个命令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[haokaiyang@CentOS7 ~]$ <span class="built_in">echo</span> password|od -t oC -t c</span><br><span class="line">0000000 160 141 163 163 167 157 162 144 012</span><br><span class="line">          p   a   s   s   w   o   r   d  \n</span><br><span class="line">0000011</span><br><span class="line">[haokaiyang@CentOS7 ~]$ <span class="built_in">echo</span> password|od -t o1c</span><br><span class="line">0000000 160 141 163 163 167 157 162 144 012</span><br><span class="line">          p   a   s   s   w   o   r   d  \n</span><br><span class="line">0000011</span><br></pre></td></tr></table></figure>

<h3 id="touch-修改文件时间或创建新文件"><a href="#touch-修改文件时间或创建新文件" class="headerlink" title="touch:修改文件时间或创建新文件"></a>touch:修改文件时间或创建新文件</h3><pre><code>命令:touch
选项及参数:
    -a 修改access time
    -c 仅修改文件时间,即使文件不存在也不创建
    -d 使用时间值
    -m 仅修改mtime
    -r file 参照文件file的时间戳修改指定文件的时间戳,不更改ctime
    -t 后面接想要修改的时间而不用目前时间,格式为[YYYYMMDDhhmm]</code></pre>
<p>例子:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#新建一个文件testtouch</span></span><br><span class="line">[haokaiyang@CentOS7 test4]$ touch testtouch </span><br><span class="line">[haokaiyang@CentOS7 test4]$ ll; ll --time=atime;ll --time=ctime;</span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 aa.txt</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 14:12 testtouch</span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 aa.txt</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 14:12 testtouch</span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 aa.txt</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 14:12 testtouch</span><br><span class="line">[haokaiyang@CentOS7 test4]$ touch -r aa.txt testtouch2</span><br><span class="line">[haokaiyang@CentOS7 test4]$ ll; ll --time=atime;ll --time=ctime;</span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 aa.txt</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 14:12 testtouch</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 testtouch2</span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 aa.txt</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 14:12 testtouch</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 testtouch2</span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 11:31 aa.txt</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 14:12 testtouch</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 3月   1 14:16 testtouch2</span><br><span class="line"><span class="comment">#修改testtouch2的mtime</span></span><br><span class="line">[haokaiyang@CentOS7 test4]$ touch -m -t 201301140520 testtouch2</span><br><span class="line">[haokaiyang@CentOS7 test4]$ ll --full-time testtouch2</span><br><span class="line">-rw-rw-r--. 1 haokaiyang haokaiyang 0 2013-01-14 05:20:00.000000000 +0800 testtouch2</span><br></pre></td></tr></table></figure>

<h2 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h2><p><span id="#umask">umask</span>是目前使用者在新建文件或目录时候的权限默认值</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看umask</span></span><br><span class="line">[haokaiyang@CentOS7 test4]$ <span class="built_in">umask</span></span><br><span class="line">0002</span><br><span class="line">[haokaiyang@CentOS7 test4]$ <span class="built_in">umask</span> -S</span><br><span class="line">u=rwx,g=rwx,o=rx</span><br></pre></td></tr></table></figure>
<p>在权限的默认属性上,目录与文件是不一样的,但是一般文件则不应该有执行权限,所以这里分情况看待:</p>
<ul>
<li>若建立文件,则默认没有x权限,只有rw权限,也就是最大为666分<pre><code>  -rw-rw-rw-</code></pre>
</li>
<li>若建立目录,由于x表示是否可以进入目录,所以rwx开放,最大权限为777<pre><code>  drwxrwxrwx</code></pre>
</li>
</ul>
<p>umask的分数为需要减掉的权限,拿umask为022举例来说</p>
<pre><code>建立文件时 (-rw-rw-rw-) - (-----w--w-) ==&gt; -rw-r--r--
建立目录时 (drwxrwxrwx) - (d----w--w-) ==&gt; drwxr-xr-x</code></pre>
<h2 id="文件隐藏属性"><a href="#文件隐藏属性" class="headerlink" title="文件隐藏属性"></a>文件隐藏属性</h2><h3 id="chattr-设置文件隐藏属性"><a href="#chattr-设置文件隐藏属性" class="headerlink" title="chattr:设置文件隐藏属性"></a>chattr:设置文件隐藏属性</h3><p>注意:chattr指令只能在Ext2/Ext3/Ext4的系统上完全生效,xfs仅支持AadiS</p>
<pre><code>命令: chattr [+-=][ASacdistu] 文件或目录名称
选项及参数:
    + :增加一个特殊参数
    - :删除一个特殊参数
    = :仅设置后面加的参数

    A:文件或目录的 atime (access time)不可被修改(modified), 可以有效预防例如手提电脑磁盘I/O错误的发生。
    S:硬盘I/O同步选项,功能类似sync。
    a:即append,设定该参数后,只能向文件中添加数据,而不能删除,多用于服务器日志文件安全,只有root才能设定这个属性。
    c:即compresse,设定文件是否经压缩后再存储。读取时需要经过自动解压操作。
    d:即no dump,设定文件不能成为dump程序的备份目标。
    i:设定文件不能被删除、改名、设定链接关系,同时不能写入或新增内容。i参数对于文件 系统的安全设置有很大帮助。
    j:即journal,设定此参数使得当通过mount参数:data=ordered 或者 data=writeback 挂 载的文件系统,文件在写入时会先被记录(在journal中)。如果filesystem被设定参数为 data=journal,则该参数自动失效。
    s:保密性地删除文件或目录,即硬盘空间被全部收回。
    u:与s相反,当设定为u时,数据内容其实还存在磁盘中,可以用于undeletion。</code></pre>
<p>各参数选项中常用到的是a和i。a选项强制只可添加不可删除,多用于日志系统的安全设定。而i是更为严格的安全设定,只有superuser (root) 或具有CAP_LINUX_IMMUTABLE处理能力(标识)的进程能够施加该选项。</p>
<h3 id="lsattr-显示文件隐藏属性"><a href="#lsattr-显示文件隐藏属性" class="headerlink" title="lsattr:显示文件隐藏属性"></a>lsattr:显示文件隐藏属性</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用chattr防止文件被修改</span></span><br><span class="line">[root@CentOS7 test4]<span class="comment"># chattr +i aa.txt </span></span><br><span class="line">[root@CentOS7 test4]<span class="comment"># lsattr</span></span><br><span class="line">----i----------- ./aa.txt</span><br><span class="line">[root@CentOS7 test4]<span class="comment"># echo 111 &gt; aa.txt </span></span><br><span class="line">bash: aa.txt: 权限不够</span><br></pre></td></tr></table></figure>

<h2 id="文件特殊权限-SUID-Set-UID-SGID-Set-GID-SBIT-Sticky-Bit"><a href="#文件特殊权限-SUID-Set-UID-SGID-Set-GID-SBIT-Sticky-Bit" class="headerlink" title="文件特殊权限:SUID(Set UID),SGID(Set GID),SBIT(Sticky Bit)"></a>文件特殊权限:SUID(Set UID),SGID(Set GID),SBIT(Sticky Bit)</h2><h3 id="SUID-Set-UID"><a href="#SUID-Set-UID" class="headerlink" title="SUID(Set UID)"></a>SUID(Set UID)</h3><p>当s标志出现在文件拥有者的x权限上时,此时被称为SUID(Set UID)<br>SUID的限制和功能</p>
<ul>
<li>SUID权限仅对 <strong>二进制程序</strong>有效,不能用于shell script</li>
<li>执行者对于这个程序需要有x权限</li>
<li>本权限仅在该程序执行过程中有效</li>
<li>执行者将具有该程序拥有者的权限</li>
</ul>
<p>举例说明下:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[haokaiyang@CentOS7 ~]$ ll /bin/passwd </span><br><span class="line">-rwsr-xr-x. 1 root root 27832 6月  10 2014 /bin/passwd</span><br><span class="line">[haokaiyang@CentOS7 ~]$ ll /etc/shadow</span><br><span class="line">----------. 1 root root 1261 2月  27 18:21 /etc/shadow</span><br></pre></td></tr></table></figure>
<p>/etc/shadow是禁止让我的账号haokaiyang操作的,但为什么我可以修改密码呢？这就是SUID的功能:</p>
<ol>
<li>haokaiyang对/bin/passwd有x权限,表示我可以执行passwd</li>
<li>passwd的执行者是root账号</li>
<li>haokaiyang在执行passwd的过程中,会暂时获得root权限</li>
<li>/etc/shadow 就可以被我修改了</li>
</ol>
<h3 id="SGID-Set-GID"><a href="#SGID-Set-GID" class="headerlink" title="SGID(Set GID)"></a>SGID(Set GID)</h3><p>当s标志在文件拥有者的x的位置时候为SUID,出现在文件所属组的时候为SGID<br>SGID的功能</p>
<ul>
<li>SGID对二进制有效</li>
<li>程序执行者对于这个程序需要有x权限</li>
<li>执行者将在执行过程中获得该程序群组支持</li>
</ul>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 haokaiyang]<span class="comment"># ll /bin/locate /var/lib/mlocate/mlocate.db </span></span><br><span class="line">-rwx--s--x. <span class="number">1</span> root slocate   <span class="number">40512</span> <span class="number">11</span>月  <span class="number">5</span> <span class="number">23</span>:<span class="number">0</span>7 /bin/locate</span><br><span class="line">-rw-r-----. <span class="number">1</span> root slocate <span class="number">3247926</span> <span class="number">3</span>月   <span class="number">1</span> <span class="number">10</span>:<span class="number">10</span> /var/<span class="class"><span class="keyword">lib</span>/<span class="title">mlocate</span>/<span class="title">mlocate</span>.<span class="title">db</span></span></span><br></pre></td></tr></table></figure>
<p>和SUID差不多,若haokaiyang去执行locate时,会获得slocate群组的支持,因为可以去读取mlocate.db<br>SGID也可以用于目录,当目录设置了SGID权限后</p>
<ul>
<li>使用者若对于此目录有rx权限时,该使用者能够进入此目录</li>
<li>使用者在此目录下的有效群组将会变成该目录的群组</li>
<li>若使用者在此目录下具有w权限,则使用者所建立的新文件的所属组与此目录的所属组相同</li>
</ul>
<h3 id="SBIT-Sticky-Bit"><a href="#SBIT-Sticky-Bit" class="headerlink" title="SBIT(Sticky Bit)"></a>SBIT(Sticky Bit)</h3><p>这个SBIT只针对目录,对于文件没有作用。<br>SBIT对于目录的作用为:</p>
<ul>
<li>当使用者对于此目录有wx权限时</li>
<li>当使用者在该目录下建立文件或目录时,仅有自己和root才有权利删除<br>举例:<br>/tmp本身权限为drwxrwxrwt 所有人都可以在/tmp中新增、修改、删除文件,但仅有该文件/目录建立者和root才能够删除自己的目录或文件。</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 tmp]<span class="comment"># ll / | grep tmp</span></span><br><span class="line">drwxrwxrwt.  20 root root 4096 3月   1 15:49 tmp</span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># touch myfile</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># chmod 777 myfile</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">[haokaiyang@CentOS7 tmp]$ ll myfile</span><br><span class="line">-rwxrwxrwx. 1 root root 0 3月   1 15:51 myfile</span><br><span class="line">[haokaiyang@CentOS7 tmp]$ rm -f myfile</span><br><span class="line">rm: 无法删除<span class="string">&quot;myfile&quot;</span>: 不允许的操作</span><br></pre></td></tr></table></figure>

<h3 id="SUID-SGID-SBIT权限设置"><a href="#SUID-SGID-SBIT权限设置" class="headerlink" title="SUID/SGID/SBIT权限设置"></a>SUID/SGID/SBIT权限设置</h3><h4 id="数字法"><a href="#数字法" class="headerlink" title="数字法"></a>数字法</h4><p>4为SUID<br>2为SGID<br>1为SBIT</p>
<pre><code>chmod 4755 myfile</code></pre>
<h4 id="符号法"><a href="#符号法" class="headerlink" title="符号法"></a>符号法</h4><p>SUID为u+s<br>SGID为g+s<br>SBIT为o+t</p>
<h2 id="file-查看文件类型"><a href="#file-查看文件类型" class="headerlink" title="file:查看文件类型"></a>file:查看文件类型</h2><pre><code>命令:file 文件
选项及参数:
    -b 不输出文件名
    -z 试图查看压缩文件内部信息</code></pre>
<h2 id="命令及文件搜索"><a href="#命令及文件搜索" class="headerlink" title="命令及文件搜索"></a>命令及文件搜索</h2><h3 id="命令搜索"><a href="#命令搜索" class="headerlink" title="命令搜索"></a>命令搜索</h3><h4 id="which-查找命令"><a href="#which-查找命令" class="headerlink" title="which:查找命令"></a>which:查找命令</h4><pre><code>命令: which
选项及参数: 
    -a 列出所有在PATH中可以找到的命令,而不止第一个</code></pre>
<p>###文件搜索</p>
<h4 id="whereis-在特定目录中查找文件"><a href="#whereis-在特定目录中查找文件" class="headerlink" title="whereis:在特定目录中查找文件"></a>whereis:在特定目录中查找文件</h4><pre><code>命令:whereis
选项及参数:
    -l 可以列出whereis会出查找的几个主要目录
    -b 只找binary格式的文件
    -m 只找在手册文件manual路径下的文件
    -s 只找source 来源的文件
    -u 查找不在上述三个项目当中的其它特殊文件</code></pre>
<h3 id="locate-updatedb"><a href="#locate-updatedb" class="headerlink" title="locate/updatedb"></a>locate/updatedb</h3><pre><code>命令: locate [-ir] keyword
选项及参数:
    -i 忽略大小写差异
    -c 不输出文件名,仅计算找到文件数量
    -l num 仅输出num行
    -S 输出locate所使用的资料库文件相关信息,包括资料库记录的文件/目录数量等
    -r 后面可接正则表达式的显示方式</code></pre>
<p>updatedb:根据/etc/updatedb.conf去搜索系统硬盘内的文件,并更新/var/lib/mlocate内的资料库文件<br>locate:  根据/var/lib/mlocate内存在的资料库记载,找出使用者输入的关键词</p>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><pre><code>命令:find [PATH] [option] [action]
选项及参数:
1.与时间有关的参数: 共有-atime,-ctime与-mtime,以-mtime说明
    -mtime n: n为数字,意义为在n天之前的[一天之内]更改过内容的文件
    -mtime +n:列出在n天之前(不含n本身)北更改过内容的文件
    -mtime -n:列出在n天之内(含n本身)被更改过内容的文件
    -newer file :file为一个存在的文件,列出比file还要新的文件</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#例子:将过去系统里24小时内有更改过内容的文件列出来</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># find /var -mtime 0</span></span><br><span class="line"><span class="comment">#例子:寻找/etc下面比/etc/passwd新的</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># find /etc -newer /etc/passwd</span></span><br></pre></td></tr></table></figure>
<p>+4代表大于等于5天前的文件 ex: find /var -mtime +4<br>-4代表小于等于4天前的文件 ex: find /var -mtime -4<br> 4代表4-5那一天的文件 ex:find /var -mtime 4</p>
<pre><code>2.与使用者或群组有关的参数
    -uid n :n为数字,这个数字是使用者的账号ID,即UID,这个UID是记录在/etc/passwd里面与账号名称对应的数字
    -gid n:n为数字,这个数字是群组名称的ID,即GID,这个GID记录在/etc/group中
    -user name:name为使用者账号名称
    -group name:name为群组名称
    -nouser:寻找文件拥有者不在/etc/passwd中的文件
    -nogroup:寻找文件所属组不在/etc/group的文件
3.与文件权限和名称有关的参数
    -name filename 搜索文件名为filename的文件
    -size [+-]SIZE 搜索比SIZE大或者小的文件,如 -size +50k
    -type TYPE :搜索文件类型为TYPE的,类型包含一般文件f,硬件b,c,目录d,链接l,socket(s)以及FIFO(p)
    -perm mode 搜索权限刚好等于mode的文件
    -perm -mode 搜索文件权限必须要全部包括mode的文件,即搜索0744(-rwxr--r--)时候,0755(-rwxr-xr-x)也会被列出来,因为0755中包含了0744的权限。
    -perm /mode 搜索文件权限包含任何一个mode的权限的文件,即搜索0755(-rwxr-xr-x)时候,文件属性为600(-rw-------)也会被搜索出来</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#找出含有SUID或SGID或SBIT的文件</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># find / -perm /7000</span></span><br></pre></td></tr></table></figure>

<pre><code>4.额外操作
-exec command:command为其它命令,-exec后面再接命令来处理搜索到的结果
-print :将结果打印屏幕上,默认</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS7 tmp]<span class="comment"># find / -perm /7000 -exec ls -l &#123;&#125; \;</span></span><br><span class="line"><span class="comment">#带有运算符的例子</span></span><br><span class="line"><span class="comment">#找出/etc下,文件大小在50k到60k之间的文件,并且列出文件权限</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># find /etc -size +50k -a -size -60k -exec ls -l &#123;&#125; \;</span></span><br><span class="line">-a 表示and的意思</span><br><span class="line"><span class="comment">#找出/etc下,文件大于1500k以及容量等于0的文件,且列出文件权限</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># find /etc -size +1500k -o -size 0 -exec ls -l &#123;&#125; \;</span></span><br><span class="line">-o 表示or的意思</span><br><span class="line"><span class="comment">#找出在/etc下,文件大于50k且文件所属者不是root的文件,且列出文件权限</span></span><br><span class="line">[root@CentOS7 tmp]<span class="comment"># find /etc -size +50k -a ! -user root -exec ls -ld &#123;&#125; \;</span></span><br><span class="line"> ! 表示反向选择</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2017/02/28/centos7-learning-notes-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/02/28/centos7-learning-notes-1/" class="post-title-link" itemprop="url">《鸟哥的Linux私房菜》文件权限与目录配置学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-02-28 20:25:00" itemprop="dateCreated datePublished" datetime="2017-02-28T20:25:00+08:00">2017-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Linux文件属性详解"><a href="#Linux文件属性详解" class="headerlink" title="Linux文件属性详解"></a>Linux文件属性详解</h2><pre><code>dr-xr-x--- 1 root root 103 Feb 27 23:00 .viminfo</code></pre>
<h3 id="第一栏-dr-xr-x—"><a href="#第一栏-dr-xr-x—" class="headerlink" title="第一栏:dr-xr-x—"></a>第一栏:dr-xr-x—</h3><p>第一个字符表示文件类型</p>
<ul>
<li><p>d 目录</p>
</li>
<li><p>- 文件</p>
<ol>
<li>纯文字文件</li>
<li>二进制文件</li>
<li>资料格式文件</li>
</ol>
</li>
<li><p>l 软连接</p>
</li>
<li><p>b 硬件里面的可存储设备(block块设备),储存资料,提供系统读取的设备,比如硬盘,软盘</p>
</li>
<li><p>c 硬件里面的一次性设备,比如键盘、鼠标(character字符设备)</p>
</li>
<li><p>s 资料接口档、网络接口,经常在/run或/tmp中见到</p>
</li>
<li><p>p 资料传输文件 FIFO(first-in-first-out),pipe主要解决多个程序同时读取一个档案造成的错误问题</p>
<p>  接下来三个为一组,且都是[<em>r</em>(可读)<em>w</em>(可写)<em>x</em>(可执行)-(没有权限)]的组合</p>
</li>
<li><p>第一组:文件所属者权限</p>
</li>
<li><p>第二组:文件所属组权限</p>
</li>
<li><p>第三组:其它人权限</p>
</li>
</ul>
<h3 id="第二栏-1"><a href="#第二栏-1" class="headerlink" title="第二栏:1"></a>第二栏:1</h3><p>有多少文件链接到此节点</p>
<h3 id="第三栏-root"><a href="#第三栏-root" class="headerlink" title="第三栏:root"></a>第三栏:root</h3><p>文件所属者</p>
<h3 id="第四栏-root"><a href="#第四栏-root" class="headerlink" title="第四栏:root"></a>第四栏:root</h3><p>文件所属组</p>
<h3 id="第五栏-103"><a href="#第五栏-103" class="headerlink" title="第五栏:103"></a>第五栏:103</h3><p>文件大小,默认单位bytes</p>
<h3 id="第六栏-Feb-28-23-00"><a href="#第六栏-Feb-28-23-00" class="headerlink" title="第六栏:Feb 28 23:00"></a>第六栏:Feb 28 23:00</h3><p>文件最近修改日期,想要显示完整的时间格式 ls -l –full-time</p>
<h3 id="第七栏-viminfo"><a href="#第七栏-viminfo" class="headerlink" title="第七栏:.viminfo"></a>第七栏:.viminfo</h3><p>文件名,文件名前有.代表这个文件为隐藏文件 文件后缀与文件类型无关</p>
<ul>
<li><p>Linux中,使用传统的Ext2/Ext3/Ext4文件系统以及xfs文件系统对文件名的长度限制为255bytes,大约128个汉字<br>文件名命名时候最好避开以下特殊字符</p>
<pre><code>  ? &gt; &lt; ; &amp; ! [ ] | \ &#39; &quot; ` ( ) &#123; &#125;</code></pre>
</li>
</ul>
<h2 id="更改文件属性与权限"><a href="#更改文件属性与权限" class="headerlink" title="更改文件属性与权限"></a>更改文件属性与权限</h2><h3 id="更改文件所属组chgrp"><a href="#更改文件所属组chgrp" class="headerlink" title="更改文件所属组chgrp"></a>更改文件所属组chgrp</h3><ul>
<li>命令:chgrp 组名 目录/文件名</li>
<li>选项:<br>  -R 递归更改</li>
</ul>
<h3 id="更改文件所属者chown"><a href="#更改文件所属者chown" class="headerlink" title="更改文件所属者chown"></a>更改文件所属者chown</h3><ul>
<li>命令:chown 账号名称 目录或文件<br>  chown 账号名称:组名 目录或文件</li>
<li>选项:<br>  -R 递归更改</li>
</ul>
<h3 id="更改文件权限chmod"><a href="#更改文件权限chmod" class="headerlink" title="更改文件权限chmod"></a>更改文件权限chmod</h3><h4 id="使用数值类型变更文件权限"><a href="#使用数值类型变更文件权限" class="headerlink" title="使用数值类型变更文件权限"></a>使用数值类型变更文件权限</h4><ul>
<li>命令:chmod xyz 目录或文件<ul>
<li>xyz 权限属性数值的和<ul>
<li>r:4<br>      w:2<br>  x:1<br>  rwx为7<br>  rw-为6<br>  r-x为5<br>  —为0<br>例如想将权限改为[-rwxr-xr–],那么xyz为[4+2+1][4+0+1][4+0+0]=754</li>
</ul>
</li>
</ul>
</li>
<li>选项:<br>  -R:递归更改</li>
</ul>
<h4 id="使用符号类型更改文件权限"><a href="#使用符号类型更改文件权限" class="headerlink" title="使用符号类型更改文件权限"></a>使用符号类型更改文件权限</h4><table><tr><th>chmod</th><th>g(group群组)<br>o(others其它用户)<br>a(all全部身份)</th><th>+<br>-<br>=</th><th>r<br>w<br>x</th><th>文件或目录</th></tr></table>

<ul>
<li>常见用法:<pre><code>  chmod u=rwx,go=rx .bashrc
  chmod a+w .bashrc
  chmod a-x .bashrc</code></pre>
</li>
</ul>
<h2 id="目录和文件的权限意义"><a href="#目录和文件的权限意义" class="headerlink" title="目录和文件的权限意义"></a>目录和文件的权限意义</h2><h3 id="权限对文件的意义"><a href="#权限对文件的意义" class="headerlink" title="权限对文件的意义"></a>权限对文件的意义</h3><ul>
<li>r:可读取文件内容</li>
<li>w:编辑、新增、修改该文件内容,但不具有删除该文件本身的权限</li>
<li>x:文件具有被系统执行的权限</li>
</ul>
<h3 id="权限对目录的意义"><a href="#权限对目录的意义" class="headerlink" title="权限对目录的意义"></a>权限对目录的意义</h3><ul>
<li>r:读取目录结构权限,可以查询该目录下文件名</li>
<li>w:改动该目录结构权限,包括<ul>
<li>新建文件或目录</li>
<li>删除已经存在的文件或目录(与文件权限无关)</li>
<li>将已存在的文件改名</li>
<li>更改该目录内文件、目录位置</li>
</ul>
</li>
<li>x:使用者是否能进入该目录</li>
</ul>
<h2 id="CentOS7目录树"><a href="#CentOS7目录树" class="headerlink" title="CentOS7目录树"></a>CentOS7目录树</h2><p><img src="/images/linux_fhs.png" alt="centos7目录树"></p>
<blockquote>
<p><em>上图中红框表示FHS规范规定必须存在的目录;</em><br><em>黄框表示FHS规范建议存在的目录;</em><br><em>绿色虚线为软连接;</em></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2017/02/27/centos7-learning-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/02/27/centos7-learning-notes/" class="post-title-link" itemprop="url">《鸟哥的Linux私房菜》主机规划与硬盘分区学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-02-27 22:44:13" itemprop="dateCreated datePublished" datetime="2017-02-27T22:44:13+08:00">2017-02-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="计算机硬件五大功能部分"><a href="#计算机硬件五大功能部分" class="headerlink" title="计算机硬件五大功能部分:"></a>计算机硬件五大功能部分:</h2><ul>
<li>输入单元</li>
<li>运算单元</li>
<li>控制单元</li>
<li>d存储器</li>
<li>输出单元</li>
</ul>
<h2 id="常见硬件与在Linux下文件对照表"><a href="#常见硬件与在Linux下文件对照表" class="headerlink" title="常见硬件与在Linux下文件对照表"></a>常见硬件与在Linux下文件对照表</h2><p>|设备 | 设备在Linux中的文件名|<br> |—-|———————-|<br>|SCSI/SATA/USB硬盘 | /dev/sd<a href="%E6%A0%B9%E6%8D%AELinux%E6%A0%B8%E5%BF%83%E4%BE%A6%E6%B5%8B%E5%88%B0%E7%A1%AC%E7%9B%98%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%86%B3%E5%AE%9A">a-p</a>|<br>|USB | /dev/sd[a-p] (与SATA相同) |<br>|VirtI/O界面 | /dev/vd[a-p] (用于虚拟机內)|<br>|软盘 | /dev/fd[0-1] |<br>|打印机 | /dev/lp[0-2] (25针打印机)<br>/dev/usb/lp[0-15] (USB 介面) |<br>|鼠标 |  /dev/input/mouse[0-15] (通用)<br>/dev/psaux (PS/2界面)<br>/dev/mouse (当前鼠标)  |<br>|CDROM/DVDROM |  /dev/scd[0-1] (通用)<br>/dev/sr[0-1] (通用，常见于CentOS)<br>/dev/cdrom (当前 CDROM)|<br>|IDE硬盘 | /dev/hd[a-d] (旧式系统才有)|</p>
<h2 id="硬盘的两种分区格式-MBR与GPT"><a href="#硬盘的两种分区格式-MBR与GPT" class="headerlink" title="硬盘的两种分区格式:MBR与GPT"></a>硬盘的两种分区格式:MBR与GPT</h2><h3 id="MSDOS-MBR-分区格式与限制"><a href="#MSDOS-MBR-分区格式与限制" class="headerlink" title="MSDOS(MBR)分区格式与限制:"></a>MSDOS(MBR)分区格式与限制:</h3><h4 id="MBR主引导扇区的512bytes中包含"><a href="#MBR主引导扇区的512bytes中包含" class="headerlink" title="MBR主引导扇区的512bytes中包含:"></a>MBR主引导扇区的512bytes中包含:</h4><ol>
<li>主要开机记录区(MBR):可以安装系统引导程序的地方,有446bytes</li>
<li>分区表:记录整个硬盘的分割状态，有64bytes</li>
</ol>
<h4 id="MBR主分区，扩展分区与逻辑分区的特性"><a href="#MBR主分区，扩展分区与逻辑分区的特性" class="headerlink" title="MBR主分区，扩展分区与逻辑分区的特性"></a>MBR主分区，扩展分区与逻辑分区的特性</h4><ol>
<li>主分区与扩展分区最多可以有四个</li>
<li>扩展分区最多只能有一个(操作系统限制)</li>
<li>逻辑分区是由扩展分区切割出来的分割槽</li>
<li>主分区和逻辑分区能够被格式化后，作为资料存取的分区，扩展分区无法格式化</li>
<li>逻辑分区的数量和操作系统有关。</li>
</ol>
<h4 id="限制"><a href="#限制" class="headerlink" title="限制:"></a>限制:</h4><ol>
<li>操作系统无法抓取到2.2T以上的硬盘容量</li>
<li>MBR仅有一个主引导扇区，被破坏后，经常无法或很难恢复</li>
<li>MBR内存放系统引导程序的扇区仅446bytes，无法容纳更多。</li>
</ol>
<h3 id="GUID-GPT"><a href="#GUID-GPT" class="headerlink" title="GUID(GPT)"></a>GUID(GPT)</h3><p><strong>GPT将所有区块以LBA(Logical Block Address,默认512bytes)来规划，第一个LBA称为LBA0<br>GPT使用了34个LBA扇区来记录分区信息，且除了前面的34个，整个磁盘最后33个也拿来作为备份。</strong></p>
<ul>
<li>LBA0(MBR 相容扇区)<br>分为两部分，其中有一个部分储存系统引导程序，还有一个标志，表示此硬盘位GPT格式。</li>
<li>LBA1(GPT表头记录)<br>记录了分区本身位置与大小，记录了备份GPT扇区位置，放置了分割表的检验码)(CRC32)，操作系统根据这个检验码判断GPT是否正确。</li>
<li>LBA2-33(实际记录分区信息)</li>
</ul>
<h2 id="BIOS搭配MBR-GPT开机流程"><a href="#BIOS搭配MBR-GPT开机流程" class="headerlink" title="BIOS搭配MBR/GPT开机流程"></a>BIOS搭配MBR/GPT开机流程</h2><p><strong>BIOS是写入到主板上的固件</strong></p>
<h3 id="MBR开机流程"><a href="#MBR开机流程" class="headerlink" title="MBR开机流程:"></a>MBR开机流程:</h3><ol>
<li>BIOS:开机执行的固件，会认识第一个可开机的装置;</li>
<li>MBR:第一个可开机装置的第一个扇区内的主要开机记录扇区;</li>
<li>boot loader:一个可以读取核心文件来执行的软件;</li>
<li>核心文件:开始操作启动的功能。</li>
</ol>
<h2 id="Linux文件名称详解"><a href="#Linux文件名称详解" class="headerlink" title="Linux文件名称详解:"></a>Linux文件名称详解:</h2><p>CentOS-7-x86_64-Everything-1503-01.iso</p>
<ul>
<li>CentOS-7:版本</li>
<li>x86_64:64位操作系统</li>
<li>Everything:包括全部软件</li>
<li>1503:15年3月发布</li>
<li>01.iso:与CentOS7搭配,7.1版</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2017/02/26/linux-learning-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/02/26/linux-learning-notes/" class="post-title-link" itemprop="url">​Linux下的一些简单命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-02-26 20:30:00" itemprop="dateCreated datePublished" datetime="2017-02-26T20:30:00+08:00">2017-02-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>320</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​</p>
<ol>
<li><p>日期 date +%Y/%m/%d/%H:%M</p>
</li>
<li><p>日历 cal [month] [year]</p>
</li>
<li><p>man</p>
</li>
<li><p>info</p>
</li>
<li><p>who 查看谁在线上</p>
</li>
<li><p>sync 强制将内存缓冲区中的数据立即写入磁盘中(root更新整个系统,一般账号更新的仅有自己资料)</p>
</li>
<li><p>关机命令<br>shutdown</p>
<p> 命令:shutdown [-krhc] [时间] [警告信息]<br> 选项及参数:</p>
<pre><code> -k 发送警告信息!
 -r 重启
 -h 关机
 -c 取消关机
 时间:指定系统关机时间！默认1分钟
   now 现在
   20:00 下一个20:00
   +10 10分钟后</code></pre>
</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例子 :</span><br><span class="line">10分钟后关机</span><br><span class="line">[root@study ~]<span class="comment"># /sbin/shutdown -h 10 &#x27;I will shutdown after 10 mins&#x27;</span></span><br></pre></td></tr></table></figure>
<ol start="8">
<li>重启reboot</li>
<li>关机</li>
</ol>
<ul>
<li>halt</li>
<li>poweroff</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2016/08/31/how-to-save-an-hour-every-day-reading-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/08/31/how-to-save-an-hour-every-day-reading-notes/" class="post-title-link" itemprop="url">《超级时间整理术——每天多出一小时》读书笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-08-31 11:23:26" itemprop="dateCreated datePublished" datetime="2016-08-31T11:23:26+08:00">2016-08-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">读书笔记</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong><em>浪费时间就是浪费生命，把握时间就是把握生命</em></strong></p>
<h2 id="以“自我管理”为主旨"><a href="#以“自我管理”为主旨" class="headerlink" title="以“自我管理”为主旨"></a>以“自我管理”为主旨</h2><ul>
<li>生活管理</li>
<li>时间管理:整理时间、提高效率</li>
<li>心态管理</li>
<li>压力管理</li>
</ul>
<h2 id="清理杂物的方法"><a href="#清理杂物的方法" class="headerlink" title="清理杂物的方法"></a>清理杂物的方法</h2><ul>
<li>丢弃</li>
<li>归档</li>
<li>转嫁</li>
</ul>
<h2 id="整理你的生活电脑"><a href="#整理你的生活电脑" class="headerlink" title="整理你的生活电脑"></a>整理你的生活电脑</h2><ul>
<li>文件备份</li>
<li>邮件清理</li>
<li>居室</li>
<li>衣柜</li>
</ul>
<h2 id="整理的办法"><a href="#整理的办法" class="headerlink" title="整理的办法"></a>整理的办法</h2><ul>
<li>将东西打上标签</li>
</ul>
<h2 id="戒掉拖延症"><a href="#戒掉拖延症" class="headerlink" title="戒掉拖延症"></a>戒掉拖延症</h2><ol>
<li>马上行动</li>
<li>把额外的活动都当成完成一部分任务的奖赏</li>
<li>承诺每件事情的最后期限</li>
</ol>
<h2 id="面对“选择恐惧”的办法"><a href="#面对“选择恐惧”的办法" class="headerlink" title="面对“选择恐惧”的办法"></a>面对“选择恐惧”的办法</h2><ol>
<li>直觉<br>其实你心里已经有了答案，你只是没有意识到这一点而已。<br>注:如果你学会了如何开发你的直觉思维，你就不再需要硬币了，它只不过是一枚硬币而已。</li>
</ol>
<h2 id="如何写待办事项"><a href="#如何写待办事项" class="headerlink" title="如何写待办事项"></a>如何写待办事项</h2><ol>
<li>每天结束的时候写下明天你要做的五件最重要的事情<ul>
<li>列写清单的时间<br>请注意列写清单不是在每天开始时找出几分钟空闲的时间来做，或每个星期偶尔做几次。这里说的非常清楚，是在每天结束时（我建议最好是睡觉之前）列写事项。你的大脑会在你六到八个小时的睡眠时间内潜意识地思考这些事项，这种潜意识准备的力量是非常强大的。</li>
<li>习惯的形成<br>由于是在每天结束时列写清单，所以很容易形成一个日常习惯。这不是一个偶尔为之的行为，而是需要你坚持做下去。通过每天这样做，你很快就能养成列出最重要五件事项的习惯，而且几分钟内就能完成。</li>
<li>承诺的力量<br>很多有效的时间节省方法的关键就是把事项写下来，而其挑战是有太多的事项要写，以至于你根本不愿意着手去做，或做了一阵子就放弃了。将五个最重要的事项列在纸上（或是记在PDA*上）是个很棒的主意，因为当你把它们写下来的时候，这些事项就成为你自身的一部分，你将会记得对自己承诺了要做什么。我太太的奶奶在世时常说：“好记性不如烂笔头”，她还常说的一句话是：“捡到楼里都是柴”，不过这是另外一个故事了。</li>
<li>设定优先次序<br>你的重要事项清单上允许有几个事项？答案是五项！ 不能再多。只能是五项最重要的事情，而不是五项最容易办到的事情，不是五项最快能办到的事情，也不是五项最紧急的事情，而是五项真正最重要的事情。</li>
</ul>
</li>
</ol>
<h2 id="待办事项如何排定次序"><a href="#待办事项如何排定次序" class="headerlink" title="待办事项如何排定次序"></a>待办事项如何排定次序</h2><ol>
<li>四象限法：重要、紧急</li>
<li>待办-》必办</li>
</ol>
<h2 id="列个不办事项清单"><a href="#列个不办事项清单" class="headerlink" title="列个不办事项清单"></a>列个不办事项清单</h2><ol>
<li>不打网游</li>
</ol>
<h2 id="如何对打扰你的人说“不”"><a href="#如何对打扰你的人说“不”" class="headerlink" title="如何对打扰你的人说“不”"></a>如何对打扰你的人说“不”</h2><ol>
<li>爱聊闲话的人-忽略他们，不要给他们开口机会</li>
<li>牢骚满腹的人-对他们说：“听着，我对此感到很遗憾，但我现在不能与你讨论这件事，因为我必须要完成手边的工作/我已经迟到了/我今天的事情太多了。”如果你一边这样说一边忙着手上的活，效果会更明显。</li>
<li>新手-对他们说：“我建议你先仔细想出一个方案，然后再来找我交流。”</li>
<li>“博古通今”的人-这种人碰到任何事情都能从以往找到一个例子，并将其穿插到当前的对话当中。你会惊奇于他们能够在毫不搭界的事情之间找到非常牵强的联系，以至于对于发生了什么或者将会发生什么讲出他们的版本。<br>解决方案：礼貌而坚定地说：“真的吗？哎呀，对不起，我得走了。”还要接上一句“回头见”，通常这样会有奇妙的效果。</li>
</ol>
<h2 id="通用的拒绝格式…"><a href="#通用的拒绝格式…" class="headerlink" title="通用的拒绝格式…"></a>通用的拒绝格式…</h2><p>尽管我非常希望帮忙/接受这项挑战，等等，但我不得不拒绝，因为我现在要集中精力进行_______（填上内容），否则对于我已经答应了的人来说很不公。</p>
<h2 id="如何意识到自己时间很重要"><a href="#如何意识到自己时间很重要" class="headerlink" title="如何意识到自己时间很重要"></a>如何意识到自己时间很重要</h2><ol>
<li>估算时间价值如果你发现自己常常在做着大大低于自己时间价值的活，那就要质问自己为什么还要继续做下去。</li>
<li>我创造的价值<br>当你计算出你每小时的货币价值时，你就会以一种完全不同的方式来看待你的时间。</li>
</ol>
<h2 id="专注你的擅长"><a href="#专注你的擅长" class="headerlink" title="专注你的擅长"></a>专注你的擅长</h2><ol>
<li>是司机就不要争做好厨子</li>
</ol>
<h2 id="如何整理电脑桌面"><a href="#如何整理电脑桌面" class="headerlink" title="如何整理电脑桌面"></a>如何整理电脑桌面</h2><ol>
<li>把虚拟文件当成真实的。不需要的直接删除</li>
<li>尽量把东西存入数据库</li>
<li>接收培训以发挥电脑节省时间的功能</li>
<li>使用日历提醒并设置闹钟</li>
<li>把科技产品同步起来</li>
<li>使用宏(一个指令，代替一系列动作)</li>
<li>买更好的电脑</li>
<li>网速要快</li>
<li>增加显示器</li>
<li>学会搜索</li>
</ol>
<h2 id="打电话节省时间的办法"><a href="#打电话节省时间的办法" class="headerlink" title="打电话节省时间的办法"></a>打电话节省时间的办法</h2><ol>
<li>储存号码</li>
<li>致电之前打腹稿</li>
<li>站立</li>
<li>记得留下信息<ul>
<li>说出是谁</li>
<li>明确意图</li>
<li>说清什么时候才可以打电话</li>
<li>说出你的名字</li>
</ul>
</li>
</ol>
<h2 id="慧眼识友人"><a href="#慧眼识友人" class="headerlink" title="慧眼识友人"></a>慧眼识友人</h2><ul>
<li>自怨自艾</li>
<li>自鸣得意型<br>以上两种相处时间减少50%</li>
<li>吸人骨髓型<br>远离</li>
<li>无私奉献型</li>
</ul>
<h2 id="多花时间陪陪孩子"><a href="#多花时间陪陪孩子" class="headerlink" title="多花时间陪陪孩子"></a>多花时间陪陪孩子</h2><ul>
<li>一起用餐</li>
<li>相互问候</li>
<li>出去玩</li>
<li>拿着清单购物</li>
<li>星期天的床头谈话</li>
</ul>
<h2 id="好好享受用餐的美好时光"><a href="#好好享受用餐的美好时光" class="headerlink" title="好好享受用餐的美好时光"></a>好好享受用餐的美好时光</h2><ol>
<li>分量加倍(提前准备好下一份食物的食材)<br>注:在网上搜索一下“30分钟美食”，你会找到上百万个链接和十多万个小点子。找一个笔记本放在面前开始浏览这些站点，并写下未来两个星期的食物计划</li>
<li>拿着清单购物</li>
<li>买个小号的水壶</li>
<li>只看自己节目清单里的电视</li>
<li>马桶上的阅读时光</li>
</ol>
<h2 id="加快阅读速度"><a href="#加快阅读速度" class="headerlink" title="加快阅读速度"></a>加快阅读速度</h2><ol>
<li>当你买下一本书时，把它放到随手可得的地方，出差时带上它、放在车里、放在床头、放在桌子上，甚至于马桶盖上。</li>
<li>在阅读开始之前，闭上眼睛并迅速地想象一下你要阅读的书籍，想象自己享受这本书的样子，并从中吸取到有用的养分。</li>
<li>加快速度。你会惊奇于自己的阅读速度有多快，还仍然能够吸收书中的内容。强迫自己加快阅读速度，这一能力也将会在你生活的其他方面发挥 作用。</li>
<li>除非是小说，问自己是否真的有必要一页一页地阅读，还是可以跳过一些内容。</li>
<li>读完其中一章。有时只读到一章的一半时，你就觉得自己不会从这本书里收获什么了，这种做法不可取。</li>
<li>设定一个读完一本书的目标，你会惊奇地发现，当有了目标时，你的阅读速度会增加多少。当你完成目标时，给自己一个奖赏，这会使事情变得有趣。</li>
<li>早起第一件事就是阅读，许多人在晚上睡觉之前阅读，这也很不错，至少比看电视强多了！试着提早三十分钟起床，花点时间进行阅读。你会惊奇于你能以多快的速度阅读，以及你清醒的大脑能够吸收多少书中的养分。</li>
<li>主动式阅读。如果你正在读一本书，比如这本，你可以在其中写写画画。用荧光笔把你最喜欢的词语、段落标记出来。对于有关个人发展的书，以一种互动的方式来阅读才能真正吸收其中的养分。所以行动吧！边读边写下点什么，从现在开始。</li>
</ol>
<h2 id="如何整理照片"><a href="#如何整理照片" class="headerlink" title="如何整理照片"></a>如何整理照片</h2><ul>
<li>创建一个文件夹，命名为“好照片”，把你的好照片存放在那里，而把其余的悉数删掉，然后把这些好照片或者打印出来或者上传到某个地方。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2016/03/12/install-yaf-on-mac/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/03/12/install-yaf-on-mac/" class="post-title-link" itemprop="url">Mac下安装Yaf</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-03-12 13:11:23" itemprop="dateCreated datePublished" datetime="2016-03-12T13:11:23+08:00">2016-03-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" itemprop="url" rel="index"><span itemprop="name">环境搭建</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>859</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="在Mac上安装yaf框架"><a href="#在Mac上安装yaf框架" class="headerlink" title="在Mac上安装yaf框架"></a>在Mac上安装yaf框架</h2><ul>
<li><p>安装PHP运行环境</p>
</li>
<li><p>在PECL官网下载yaf,地址:<a target="_blank" rel="noopener" href="http://pecl.php.net/package/yaf">http://pecl.php.net/package/yaf</a>,这里我下载的是3.0.2的beta版本</p>
</li>
<li><p>解压缩以及安装</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tar -zvf yaf-3.0.2.tgz <span class="comment">#解压</span></span><br><span class="line"><span class="built_in">cd</span> yaf-3.0.2/</span><br><span class="line"><span class="variable">$PHP_BIN</span>/phpize</span><br><span class="line">./configure --with-php-config=<span class="variable">$PHP_BIN</span>/php-config</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul>
<li><p><code>$PHP_BIN</code>:PHP的bin目录 例如我的为/usr/local/Cellar/php70/7.0.0/bin/  就执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-php-config=/usr/<span class="built_in">local</span>/Cellar/php70/7.0.0/bin/php-config</span><br></pre></td></tr></table></figure>
</li>
<li><p>sudo为了命令执行没有权限</p>
</li>
<li><p>make install 之后会产生一个yaf.so文件。并且存放在某个文件夹下。具体放在哪里我们不需要关心,php知道就可以了，我们将yaf.so添加到php.ini</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/<span class="built_in">local</span>/etc/php/7.0/php.ini</span><br></pre></td></tr></table></figure>
<p>我们添加代码</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">extension</span>=yaf.so</span><br><span class="line"><span class="attr">yaf.environ</span> = product</span><br></pre></td></tr></table></figure>

<p>重启php-fpm 和nginx,使用php -m 或者执行phpinfo()函数查看yaf模块是否载入成功</p>
<ul>
<li>生成yaf的例子</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/laruence/yaf">https://github.com/laruence/yaf</a><br>我是下载的压缩包（可以直接git clone到本地）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf yaf-master.zip</span><br><span class="line"><span class="built_in">cd</span> yaf-master/tools/cg</span><br><span class="line"><span class="variable">$PHP_BIN</span>/php yaf_cg yaf_sample 我的是<span class="comment">#/usr/local/Cellar/php70/7.0.0/bin/</span></span><br></pre></td></tr></table></figure>
<p>将output文件夹下生成的yaf_sample复制到你的项目目录</p>
<ul>
<li>配置nginx<br>重写规则</li>
</ul>
<p>看到**Hello World! I am Stranger **就可以了</p>
<blockquote>
<p>参考文章:</p>
<blockquote>
<p>1.<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000000655886">Yaf安装和配置</a></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>2.<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000000613467">Mac从零安装yaf</a></p>
</blockquote>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2016/02/28/install-mysql-5-7-on-centos-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/02/28/install-mysql-5-7-on-centos-6/" class="post-title-link" itemprop="url">在CentOS上使用rpm安装MySQL5.7</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-02-28 19:20:15" itemprop="dateCreated datePublished" datetime="2016-02-28T19:20:15+08:00">2016-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h2><h3 id="进入MySQL官网"><a href="#进入MySQL官网" class="headerlink" title="进入MySQL官网"></a>进入MySQL官网</h3><p><a target="_blank" rel="noopener" href="http://dev.mysql.com/downloads/mysql/">下载地址</a></p>
<h3 id="选择平台"><a href="#选择平台" class="headerlink" title="选择平台:"></a>选择平台:</h3><p>Select Platform:Red Hat Enterprise Linux / Oracle Linux</p>
<h3 id="查看系统信息"><a href="#查看系统信息" class="headerlink" title="查看系统信息"></a>查看系统信息</h3><p>查看系统版本和位数的命令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost package]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS release 6.6 (Final)</span><br><span class="line">[root@localhost package]<span class="comment"># uname -a</span></span><br><span class="line">Linux localhost.localdomain 2.6.32-042stab108.8 <span class="comment">#1 SMP Wed Jul 22 17:23:23 MSK 2015 x86_64 x86_64 x86_64 GNU/Linux</span></span><br></pre></td></tr></table></figure>

<h3 id="下载安装包-1"><a href="#下载安装包-1" class="headerlink" title="下载安装包"></a>下载安装包</h3><p>你可以下载到自己电脑上通过FTP上传,<br>这里我直接在服务器上wget下载<br>服务端:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://cdn.mysql.com//Downloads/MySQL-5.7/mysql-community-server-5.7.10-1.el6.x86_64.rpm</span><br></pre></td></tr></table></figure>
<p>客户端:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-client-5.7.10-1.el6.x86_64.rpm</span><br></pre></td></tr></table></figure>
<p>其他:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-common-5.7.10-1.el6.x86_64.rpm</span><br><span class="line">wget http://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-libs-5.7.10-1.el6.x86_64.rpm</span><br></pre></td></tr></table></figure>
<h2 id="卸载旧版"><a href="#卸载旧版" class="headerlink" title="卸载旧版"></a>卸载旧版</h2><p>查看电脑上是否有旧版的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa|grep -i mysql</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">rpm</span> <span class="selector-tag">-e</span> <span class="selector-attr">[包名]</span> 卸载掉系统默认的</span><br></pre></td></tr></table></figure>

<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>按下列顺序执行命令(因为有依赖关系)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh mysql-community-common-5.7.10-1.el6.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-libs-5.7.10-1.el6.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-client-5.7.10-1.el6.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-server-5.7.10-1.el6.x86_64.rpm</span><br></pre></td></tr></table></figure>
<p>在这里有些报错:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libaio.so.1()(64bit) is needed by mysql-community-server-5.7.11-1.el6.x86_64</span><br><span class="line">libaio.so.1(LIBAIO_0.1)(64bit) is needed by mysql-community-server-5.7.11-1.el6.x86_64</span><br><span class="line">libaio.so.1(LIBAIO_0.4)(64bit) is needed by mysql-community-server-5.7.11-1.el6.x86_64</span><br><span class="line">libnuma.so.1()(64bit) is needed by mysql-community-server-5.7.11-1.el6.x86_64</span><br></pre></td></tr></table></figure>
<p>我yum install libaio直接安装后发现还是不能用,yum info libaio 发现给我装上了i686的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost package]<span class="comment"># yum info libaio</span></span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: repos.redrockhost.com</span><br><span class="line"> * extras: mirror.scalabledns.com</span><br><span class="line"> * updates: mirrors.kernel.org</span><br><span class="line">已安装的软件包</span><br><span class="line">Name        : libaio</span><br><span class="line">Arch        : i686</span><br><span class="line">Version     : 0.3.107</span><br><span class="line">Release     : 10.el6</span><br><span class="line">Size        : 31 k</span><br><span class="line">Repo        : installed</span><br><span class="line"><span class="comment">#...省略</span></span><br><span class="line"></span><br><span class="line">可安装的软件包</span><br><span class="line">Name        : libaio</span><br><span class="line">Arch        : x86_64</span><br><span class="line">Version     : 0.3.107</span><br><span class="line">Release     : 10.el6</span><br><span class="line">Size        : 21 k</span><br><span class="line">Repo        : base</span><br><span class="line"><span class="comment">#...</span></span><br></pre></td></tr></table></figure>

<p>我们使用yum search ‘[包名]’搜索下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost package]<span class="comment"># yum search &#x27;libaio&#x27;</span></span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line"><span class="comment">#...</span></span><br><span class="line">================================== N/S Matched: libaio ==================================</span><br><span class="line">libaio.i686 : Linux-native asynchronous I/O access library</span><br><span class="line">libaio.x86_64 : Linux-native asynchronous I/O access library</span><br><span class="line">libaio-devel.i686 : Development files <span class="keyword">for</span> Linux-native asynchronous I/O access</span><br><span class="line">libaio-devel.x86_64 : Development files <span class="keyword">for</span> Linux-native asynchronous I/O access</span><br><span class="line"></span><br><span class="line">  Name and summary matches only, use <span class="string">&quot;search all&quot;</span> <span class="keyword">for</span> everything.</span><br></pre></td></tr></table></figure>
<p>执行命令安装64位的</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">yum</span> install libaio.x<span class="number">86</span>_<span class="number">64</span></span><br><span class="line"><span class="attribute">yum</span> install numactl.x<span class="number">86</span>_<span class="number">64</span></span><br></pre></td></tr></table></figure>
<h3 id="初始化mysql"><a href="#初始化mysql" class="headerlink" title="初始化mysql"></a>初始化mysql</h3><p>根据my.cnf中的datadir 查看下面是否已经有文件<br>我的是默认的,所以</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -la /var/lib/mysql</span><br></pre></td></tr></table></figure>
<p>有的话就删除掉</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /var/lib/mysql</span><br></pre></td></tr></table></figure>
<p>执行初始化语句</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/usr/sbin/mysqld</span> <span class="params">--initialize</span> <span class="params">--user=mysql</span></span><br></pre></td></tr></table></figure>
<p>这里我又遇到一个报错</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Warning] TIMESTAMP with <span class="keyword">implicit</span> <span class="keyword">DEFAULT</span> <span class="keyword">value</span> is deprecated<span class="number">.</span>Please <span class="keyword">use</span> --explicit_defaults_for_timestamp server option (seedocumentation for more details)<span class="number">.</span></span><br></pre></td></tr></table></figure>
<p>解决办法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/my.cnf</span><br></pre></td></tr></table></figure>
<p>添加</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">explicit_defaults_for_timestamp</span>=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>查看初始化的密码</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /<span class="built_in">var</span>/<span class="keyword">log</span>/mysqld.<span class="keyword">log</span></span><br></pre></td></tr></table></figure>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">2016-02-28T10</span>:<span class="number">14</span>:<span class="number">54.136232</span>Z <span class="number">1</span> [Note] A temporary password is generated for root<span class="variable">@localhost</span>: [你的密码]</span><br></pre></td></tr></table></figure>
<h3 id="启动mysql服务"><a href="#启动mysql服务" class="headerlink" title="启动mysql服务"></a>启动mysql服务</h3><p>/etc/init.d/mysqld start</p>
<h3 id="日记"><a href="#日记" class="headerlink" title="日记"></a>日记</h3><p>本来是安装mysql5.7.11的遇到了这个bug,<br><a target="_blank" rel="noopener" href="https://bugs.mysql.com/bug.php?id=80077">https://bugs.mysql.com/bug.php?id=80077</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://bugs.mysql.com/bug.php?id=80077">http://www.jb51.net/LINUXjishu/401516.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2015/11/10/install-lnmp-on-osx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/11/10/install-lnmp-on-osx/" class="post-title-link" itemprop="url">Mac下安装LNMP环境</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-11-10 13:11:23" itemprop="dateCreated datePublished" datetime="2015-11-10T13:11:23+08:00">2015-11-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-05-17 23:38:11" itemprop="dateModified" datetime="2018-05-17T23:38:11+08:00">2018-05-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" itemprop="url" rel="index"><span itemprop="name">环境搭建</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="安装homebrew"><a href="#安装homebrew" class="headerlink" title="安装homebrew"></a>安装homebrew</h2><ul>
<li>简介: <a target="_blank" rel="noopener" href="http://brew.sh/index_zh-cn.html">Homebrew中文官网</a></li>
<li>安装:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>常用命令:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">brew install 软件名 <span class="comment">#安装软件</span></span><br><span class="line">brew remove 软件名 <span class="comment">#卸载软件</span></span><br><span class="line">brew upgrade 软件名 <span class="comment">#更新软件</span></span><br><span class="line">brew tap 软件源地址 <span class="comment">#添加软件源</span></span><br><span class="line">brew untap 软件源地址 <span class="comment">#删除软件源</span></span><br><span class="line">brew update <span class="comment">#更新</span></span><br><span class="line">brew list <span class="comment">#列出当前所有的可用软件</span></span><br><span class="line">brew search /软件名[*]/ <span class="comment">#在软件源中搜索软件[支持模糊匹配]</span></span><br><span class="line">brew info 软件名 <span class="comment">#查看软件详细信息</span></span><br><span class="line">brew outdated <span class="comment">#查看已安装程序是否有更新</span></span><br><span class="line">brew cleanup <span class="comment">#清楚homebrew缓存或者旧版本</span></span><br><span class="line">brew options <span class="comment">#查看软件编译选项</span></span><br><span class="line">brew deps 软件名 <span class="comment">#查看包依赖</span></span><br></pre></td></tr></table></figure></li>
<li>其它:因为在OS X 10.11 苹果增强了SIP,所以我们装homebrew可能比以前麻烦了点。<br><a href="/2015/10/02/install-homebrew-on-osx/">Mac OS X 10.11如何安装homebrew</a></li>
<li>加入常用软件源<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew tap homebrew/dupes</span><br><span class="line">brew tap homebrew/versions</span><br><span class="line">brew tap homebrew/php</span><br></pre></td></tr></table></figure>
<h2 id="安装php7"><a href="#安装php7" class="headerlink" title="安装php7"></a>安装php7</h2></li>
<li>简介:安装PHP</li>
<li>安装:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">brew install php72 \</span><br><span class="line">--with-argon2 \</span><br><span class="line">--with-cgi \</span><br><span class="line">--with-debug \</span><br><span class="line">--with-enchant \</span><br><span class="line">--with-gmp \</span><br><span class="line">--with-homebrew-curl \</span><br><span class="line">--with-homebrew-libressl \</span><br><span class="line">--with-homebrew-libxml2 \</span><br><span class="line">--with-homebrew-libxslt \</span><br><span class="line">--with-httpd \</span><br><span class="line">--with-imap \</span><br><span class="line">--with-libmysql \</span><br><span class="line">--with-mssql \</span><br><span class="line">--with-pear \</span><br><span class="line">--with-phpdbg \</span><br><span class="line">--with-postgresql \</span><br><span class="line">--with-thread-safety \</span><br><span class="line">--with-webp</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>这里出了个小插曲,安装过程中imap提示404,我们通过FTP把包下载下来,放在目录/Library/Caches/Homebrew,然后重新来一次就可以了。</p>
<ul>
<li>使我们安装的PHP7代替系统自带的:<br>由于OSX已经自带了PHP环境，因此需要修改系统路径，优先运行brew安装的版本，在~/.bashrc里加入：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/bin:/usr/local/sbin:<span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>安装扩展</p>
<ul>
<li><p>如果要安装新的php扩展，可以直接安装而不用每次重新编译php，所有的扩展可以通过</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew search php71</span><br></pre></td></tr></table></figure></li>
<li><p>安装扩展例子</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install php71-redis</span><br></pre></td></tr></table></figure>
</li>
<li><p>其它:</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php-fpm -D <span class="comment">#启动php-fpm</span></span><br><span class="line">killall php-fpm <span class="comment">#停止php-fpm</span></span><br></pre></td></tr></table></figure></li>
<li><p>将php-fpm加入开机启动</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -sfv /usr/<span class="built_in">local</span>/opt/php70/*.plist ~/Library/LaunchAgents</span><br><span class="line">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.php70.plist</span><br></pre></td></tr></table></figure>
<h2 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h2></li>
</ul>
</li>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx</span><br></pre></td></tr></table></figure></li>
<li><p>nginx 常用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx <span class="comment">#打开nginx</span></span><br><span class="line">sudo nginx -s reload|reopen|stop|quit <span class="comment">#重新加载配置|重启|停止|退出</span></span><br><span class="line">sudo nginx -t <span class="comment">#测试nginx配置是否有语法错误</span></span><br></pre></td></tr></table></figure></li>
<li><p>nginx 配置文件地址<br>/usr/local/etc/nginx/nginx.conf</p>
</li>
<li><p>修改端口:nginx 安装后默认后默认监听8080端口，我们将端口修改为80端口，但是需要root权限，我们运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown root:wheel /usr/<span class="built_in">local</span>/Cellar/nginx/1.13.12/bin/nginx</span><br><span class="line">sudo chmod u+s /usr/<span class="built_in">local</span>/Cellar/nginx/1.13.12/bin/nginx</span><br></pre></td></tr></table></figure></li>
<li><p>开机启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -sfv /usr/<span class="built_in">local</span>/opt/nginx/homebrew.mxcl.nginx.plist ~/Library/LaunchAgents/</span><br><span class="line">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.nginx.plist</span><br></pre></td></tr></table></figure>
<h2 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h2></li>
<li><p> 安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install mysql</span><br></pre></td></tr></table></figure></li>
<li><p>命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql.server start</span><br><span class="line">mysql.server stop</span><br></pre></td></tr></table></figure></li>
<li><p>设置密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -uroot password <span class="string">&quot;yourpassword&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>开机启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -sfv /usr/<span class="built_in">local</span>/Cellar/mysql/*.plist ~/Library/LaunchAgents</span><br><span class="line">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li>  <a target="_blank" rel="noopener" href="http://avnpc.com/pages/install-lnmp-on-osx?utm_source=tuicool&utm_medium=referral">Mac下安装LNMP(Nginx+PHP5.6)环境</a></li>
<li>  <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000000606752">全新安装Mac OSX 开发者环境</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2015/10/02/install-homebrew-on-osx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/10/02/install-homebrew-on-osx/" class="post-title-link" itemprop="url">Mac OS X 10.11如何安装Homebrew</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-10-02 17:48:23" itemprop="dateCreated datePublished" datetime="2015-10-02T17:48:23+08:00">2015-10-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" itemprop="url" rel="index"><span itemprop="name">环境搭建</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="安装homebrew"><a href="#安装homebrew" class="headerlink" title="安装homebrew"></a>安装homebrew</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="解决报错信息"><a href="#解决报错信息" class="headerlink" title="解决报错信息"></a>解决报错信息</h2><p>我们执行命令,然后报错了<br>出错信息大概如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">error: unable to unlink old <span class="string">&#x27;Library/Aliases/0mq&#x27;</span> (Permission denied)</span><br><span class="line">error: unable to unlink old <span class="string">&#x27;Library/Aliases/4store&#x27;</span> (Permission denied)</span><br><span class="line">error: unable to unlink old <span class="string">&#x27;Library/Aliases/Secret Rabbit Code&#x27;</span> (Permission denied)</span><br><span class="line">error: unable to create symlink Library/Aliases/actor-framework (Permission denied)</span><br><span class="line">error: unable to create symlink Library/Aliases/adwaita-icon-theme (Permission denied)</span><br><span class="line">error: unable to unlink old <span class="string">&#x27;Library/Aliases/ag&#x27;</span> (Permission denied)</span><br><span class="line">ed)</span><br><span class="line"><span class="comment">#省略一大段</span></span><br><span class="line">Failed during: git reset --hard origin/master</span><br></pre></td></tr></table></figure>
<p>查看/usr/local文件夹是否存在<br>如果存在:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown $(whoami):admin /usr/<span class="built_in">local</span> &amp;&amp; sudo chown -R $(whoami):admin /usr/<span class="built_in">local</span></span><br></pre></td></tr></table></figure>
<p>如果不存在:<br>1.重启进入恢复模式(开机时按住command+R),进入终端Terminal<br>2.执行命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csrutil <span class="built_in">disable</span></span><br></pre></td></tr></table></figure>
<p>3.重启电脑,进入终端<br>3.执行命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /usr/<span class="built_in">local</span> &amp;&amp; sudo chflags norestricted /usr/<span class="built_in">local</span> &amp;&amp; sudo chown $(whoami):admin /usr/<span class="built_in">local</span> &amp;&amp; sudo chown -R $(whoami):admin /usr/<span class="built_in">local</span></span><br></pre></td></tr></table></figure>
<p>4.再次重启进入恢复模式，进入终端<br>5.执行命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csrutil <span class="built_in">enable</span></span><br></pre></td></tr></table></figure>
<p>6.重启安装homebrew即可</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://haokaiyang.com/2015/07/18/ci-fix-ftp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="郝凯阳">
      <meta itemprop="description" content="Enjoy coding,Enjoy life:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郝凯阳">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/07/18/ci-fix-ftp/" class="post-title-link" itemprop="url">解决CI框架中图片FTP上传图像乱掉的问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-07-18 23:39:08" itemprop="dateCreated datePublished" datetime="2015-07-18T23:39:08+08:00">2015-07-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-04 11:52:40" itemprop="dateModified" datetime="2020-12-04T11:52:40+08:00">2020-12-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近在使用CI框架做一个项目的时候，由于图片需要上传到另一个服务器，所以需要用到CI框架中的FTP上传类，上传的时候发现将本地暂存文件夹中的图片上传到FTP服务器上，图像会乱掉或者无法查看，找了一下午问题，才发现是CI自己的问题，因为$_FILES数组下的tmp_name中的文件路径中是没有文件后缀名的，CI就会自动加上.txt的后缀，然后上传到服务器上时，我们又转化为图像的格式，所以出现了这个问题。<br>以下是我修改的Ftp类的upload函数.<br>文件位置:system\libraries\Ftp.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params"><span class="variable">$locpath</span>, <span class="variable">$rempath</span>, <span class="variable">$mode</span> = <span class="string">&#x27;auto&#x27;</span>, <span class="variable">$permissions</span> = <span class="literal">NULL</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( ! <span class="keyword">$this</span>-&gt;_is_conn())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">FALSE</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ( ! file_exists(<span class="variable">$locpath</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;_error(<span class="string">&#x27;ftp_no_source_file&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">FALSE</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set the mode if not specified</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$mode</span> == <span class="string">&#x27;auto&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Get the file extension so we can set the upload type</span></span><br><span class="line">        <span class="variable">$ext</span> = <span class="keyword">$this</span>-&gt;_getext(<span class="variable">$locpath</span>);</span><br><span class="line">        <span class="variable">$mode</span> = <span class="keyword">$this</span>-&gt;_settype(<span class="variable">$ext</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$mode</span> = (<span class="variable">$mode</span> == <span class="string">&#x27;ascii&#x27;</span>) ? FTP_ASCII : FTP_BINARY;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$mode</span> == <span class="string">&#x27;image&#x27;</span>)&#123;</span><br><span class="line">        <span class="variable">$mode</span> = FTP_BINARY;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$result</span> = @ftp_put(<span class="keyword">$this</span>-&gt;conn_id, <span class="variable">$rempath</span>, <span class="variable">$locpath</span>, <span class="variable">$mode</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$result</span> === <span class="literal">FALSE</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;debug == <span class="literal">TRUE</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;_error(<span class="string">&#x27;ftp_unable_to_upload&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">FALSE</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set file permissions if needed</span></span><br><span class="line"><span class="keyword">if</span> ( ! is_null(<span class="variable">$permissions</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;chmod(<span class="variable">$rempath</span>, (<span class="keyword">int</span>)<span class="variable">$permissions</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">TRUE</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="郝凯阳"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">郝凯阳</p>
  <div class="site-description" itemprop="description">Enjoy coding,Enjoy life:)</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">34</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://t.me/haokaiyang" title="Telegram → https:&#x2F;&#x2F;t.me&#x2F;haokaiyang" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i>Telegram</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/haokaiyang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;haokaiyang" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://weibo.com/5146817200" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;5146817200" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郝凯阳</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">140k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:08</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


</body>
</html>
